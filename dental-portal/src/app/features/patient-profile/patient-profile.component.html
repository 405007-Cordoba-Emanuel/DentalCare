<div class="profile-container">
  <div class="profile-header">
    <h1 class="profile-title">Mi Perfil</h1>
  </div>

  <mat-card class="profile-card">
    <mat-card-content>
      <div *ngIf="isLoading" class="loading-container">
        <mat-icon class="loading-icon">hourglass_empty</mat-icon>
        <p>Cargando información...</p>
      </div>

      <!-- Formulario genérico (modo lectura/edición) -->
      <div *ngIf="!isLoading">
        <app-generic-form
          [fields]="formFields"
          [formTitle]="'Información Personal'"
          [submitText]="'Guardar Cambios'"
          [initialData]="formData"
          [readonly]="!isEditing"
          [disabledFields]="['email']"
          (formSubmit)="onFormSubmit($event)"
        ></app-generic-form>
      </div>

      <!-- Botones de acción -->
      <div class="actions-container" *ngIf="!isLoading">
        <button
          *ngIf="!isEditing"
          mat-raised-button
          color="primary"
          (click)="toggleEdit()"
          class="action-button"
        >
          <mat-icon>edit</mat-icon>
          Editar Información
        </button>

        <button
          *ngIf="isEditing"
          mat-stroked-button
          color="primary"
          (click)="toggleEdit()"
          class="cancel-button"
        >
          <mat-icon>cancel</mat-icon>
          Cancelar
        </button>
      </div>
    </mat-card-content>
  </mat-card>
</div>
