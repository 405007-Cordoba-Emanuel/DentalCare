<form
  [formGroup]="formGroup"
  (ngSubmit)="onSubmit()"
  class="max-w-2xl mx-auto bg-white dark:bg-gray-900 rounded-2xl shadow-lg p-8 flex flex-col gap-6 transition-all"
>
  <h2
    class="text-2xl font-semibold text-gray-800 dark:text-gray-100 text-center"
  >
    {{ formTitle() }}
  </h2>

  @for (field of fields(); track field.name) {
  <div>
    <label class="block text-gray-700 dark:text-gray-300 font-medium mb-2">
      {{ field.label }}
    </label>

    @if (field.type === 'text' || field.type === 'number') {
    <input
      [type]="field.type"
      [formControlName]="field.name"
      [placeholder]="field.placeholder"
      class="w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
    />
    } @if (field.type === 'textarea') {
    <textarea
      [formControlName]="field.name"
      [placeholder]="field.placeholder"
      class="w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 rounded-lg px-4 py-2 h-24 focus:ring-2 focus:ring-blue-500 focus:outline-none resize-none"
    ></textarea>
    } @if (field.type === 'select') {
    <select
      [formControlName]="field.name"
      class="w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
    >
      @for (opt of field.options; track opt.value) {
      <option [value]="opt.value">{{ opt.label }}</option>
      }
    </select>
    } @if (field.type === 'datetime-local') {
    <input
      type="datetime-local"
      [formControlName]="field.name"
      class="w-full border border-gray-300 dark:border-gray-700 bg-white dark:bg-gray-800 text-gray-800 dark:text-gray-100 rounded-lg px-4 py-2 focus:ring-2 focus:ring-blue-500 focus:outline-none"
    />
    }
  </div>
  }

  <button
    type="submit"
    class="bg-blue-600 hover:bg-blue-700 text-white font-semibold py-2 px-4 rounded-lg transition-all"
  >
    {{ submitText() }}
  </button>
</form>
